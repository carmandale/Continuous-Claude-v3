{"id":"Continuous-Claude-v3-8he","title":"Nice-to-have: Make continuity + artifact index YAML-aware for canonical handoffs","description":"Original issue ID (lost during upstream merge due to bd DB re-init): Continuous-Claude-v3-yqg\n\nOnly if pain appears:\n- session-start-continuity (TS) should surface goal/now from YAML artifacts.\n- artifact indexing should include YAML artifacts, not just Markdown.\n\nAcceptance criteria (if implemented):\n- SessionStart statusline/continuity shows goal/now from YAML artifact.\n- artifact index DB includes YAML artifacts.\n\nKeep minimal; no new framework.","status":"open","priority":4,"issue_type":"task","created_at":"2026-01-13T12:19:22.016215-06:00","created_by":"dalecarman","updated_at":"2026-01-13T12:19:22.016215-06:00"}
{"id":"Continuous-Claude-v3-98z","title":"Bug: Coordination DB not ingesting handoffs (handoffs table empty)","description":"Original issue ID (lost during upstream merge due to bd DB re-init): Continuous-Claude-v3-jl1\n\nProblem:\n- Coordination DB (Postgres, DATABASE_URL) had sessions + file_claims rows but handoffs table stayed empty.\n\nRoot cause:\n- hook handoff-index only handled .md handoffs and spawned a non-existent root scripts/artifact_index.py.\n\nFix implemented:\n- Added opc/scripts/core/handoff_ingest.py to upsert handoff records into Postgres public.handoffs keyed by file_path.\n- Updated .claude/hooks/src/handoff-index.ts to:\n  - recognize thoughts/shared/handoffs/**/*.{yaml,yml,md}\n  - spawn the ingester via uv from the opc directory\n- Rebuilt and committed .claude/hooks/dist/handoff-index.mjs\n\nKey commits on feat/continuity-system:\n- 5d4e8ab: ingest script + hook update\n- 96781b2: rebuilt bundled hook dist/handoff-index.mjs\n- plus upstream sync merge commits}","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-13T12:18:45.9685-06:00","created_by":"dalecarman","updated_at":"2026-01-13T12:19:03.686653-06:00","closed_at":"2026-01-13T12:19:03.686653-06:00","close_reason":"Implemented Postgres handoff ingestion (opc/scripts/core/handoff_ingest.py) + updated handoff-index hook to ingest YAML and rebuilt dist bundle (see commits 5d4e8ab, 96781b2)."}
{"id":"Continuous-Claude-v3-dre","title":"Unified Artifact System","description":"Consolidate checkpoint/handoff/finalize into unified system with consistent schema and event-driven architecture. Writes to thoughts/shared/handoffs/events/ with YAML frontmatter + Markdown body.","status":"open","priority":1,"issue_type":"epic","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:54:53.360886-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:54:53.360886-06:00"}
{"id":"Continuous-Claude-v3-dre.1","title":"Create unified schema definitions (Zod)","description":"Define Zod schemas for checkpoint, handoff, finalize artifact types. Include core fields (type, timestamp, sessionId, beadId, summary, context) and type-specific extensions.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:54:59.700007-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:54:59.700007-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.1","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:54:59.702986-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.10","title":"Update handoff-index hook for new format","description":"Modify handoff-index hook to parse and index unified artifact format. Distinguish artifact types via type field. Maintain bead status update functionality.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:50.1656-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:50.1656-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.10","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:50.202654-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.10","depends_on_id":"Continuous-Claude-v3-dre.8","type":"blocks","created_at":"2026-01-13T17:56:33.616363-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.11","title":"Deprecate old directories and update docs","description":"Remove .checkpoint/ and .handoff/ from .gitignore, add deprecation notices. Update all documentation to reference new location (thoughts/shared/handoffs/).","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:58.056125-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:58.056125-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.11","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:58.086414-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.11","depends_on_id":"Continuous-Claude-v3-dre.9","type":"blocks","created_at":"2026-01-13T17:56:42.116259-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.12","title":"Run migration on real projects","description":"Execute migration script on actual project artifacts. Verify conversion correctness and completeness.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:56:04.155293-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:56:04.155293-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.12","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:56:04.159334-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.12","depends_on_id":"Continuous-Claude-v3-dre.9","type":"blocks","created_at":"2026-01-13T17:56:42.172549-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.13","title":"Verify hook integration","description":"Test that handoff-index hook correctly indexes new unified artifacts. Verify bead status updates work.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:56:09.241366-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:56:09.241366-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.13","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:56:09.245915-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.13","depends_on_id":"Continuous-Claude-v3-dre.10","type":"blocks","created_at":"2026-01-13T17:56:42.229402-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.14","title":"Manual testing of all workflows","description":"End-to-end manual testing: run /checkpoint, /handoff, /finalize in real sessions. Verify artifacts created correctly, hook indexes them, no regressions.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:56:14.464166-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:56:14.464166-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.14","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:56:14.467113-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.14","depends_on_id":"Continuous-Claude-v3-dre.12","type":"blocks","created_at":"2026-01-13T17:56:42.288286-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.14","depends_on_id":"Continuous-Claude-v3-dre.13","type":"blocks","created_at":"2026-01-13T17:56:42.344398-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.15","title":"Update continuity ledger docs","description":"Update continuity ledger documentation to reflect new unified artifact system. Document the schema, location, and migration path.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:56:20.528817-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:56:20.528817-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.15","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:56:20.532177-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.2","title":"Implement shared artifact writer library","description":"Create thoughts/shared/lib/artifact-writer.ts with writeArtifact(type, data, options) function. Handles filename generation, directory creation, YAML+Markdown formatting.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:04.348626-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:04.348626-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.2","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:04.351394-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.2","depends_on_id":"Continuous-Claude-v3-dre.1","type":"blocks","created_at":"2026-01-13T17:56:27.297423-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.3","title":"Write unit tests for writer + validator","description":"Unit tests for schema validation, filename generation, error handling. Test all three artifact types (checkpoint, handoff, finalize).","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:09.210137-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:09.210137-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.3","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:09.220338-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.3","depends_on_id":"Continuous-Claude-v3-dre.2","type":"blocks","created_at":"2026-01-13T17:56:27.445917-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.4","title":"Document unified artifact schema","description":"Create schema documentation with examples for checkpoint, handoff, finalize types. Include field descriptions and validation rules.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:14.016181-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:14.016181-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.4","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:14.019213-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.5","title":"Update /checkpoint skill to use unified writer","description":"Refactor checkpoint skill to call unified artifact writer. Preserve existing behavior, change only the output format and location.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:21.354851-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:21.354851-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.5","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:21.359645-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.5","depends_on_id":"Continuous-Claude-v3-dre.2","type":"blocks","created_at":"2026-01-13T17:56:27.546184-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.6","title":"Update /handoff skill to use unified writer","description":"Refactor handoff skill (building on create_handoff) to call unified artifact writer. Maintain bead context requirements.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:27.835247-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:27.835247-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.6","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:27.84106-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.6","depends_on_id":"Continuous-Claude-v3-dre.2","type":"blocks","created_at":"2026-01-13T17:56:27.68029-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.7","title":"Update /finalize skill to use unified writer","description":"Refactor finalize skill to call unified artifact writer. Support project completion artifacts.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:32.856532-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:32.856532-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.7","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:32.859909-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.7","depends_on_id":"Continuous-Claude-v3-dre.2","type":"blocks","created_at":"2026-01-13T17:56:27.788614-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.8","title":"Integration tests for all three skills","description":"End-to-end tests for checkpoint, handoff, finalize workflows. Verify artifacts are created correctly in new location with valid schema.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:37.770526-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:37.770526-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.8","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:37.773621-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.8","depends_on_id":"Continuous-Claude-v3-dre.5","type":"blocks","created_at":"2026-01-13T17:56:33.385616-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.8","depends_on_id":"Continuous-Claude-v3-dre.6","type":"blocks","created_at":"2026-01-13T17:56:33.44529-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.8","depends_on_id":"Continuous-Claude-v3-dre.7","type":"blocks","created_at":"2026-01-13T17:56:33.501976-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-dre.9","title":"Build migration script for old artifacts","description":"Script to convert .checkpoint/ and .handoff/ files to new unified format. Preserve timestamps and bead context. Test on sample data.","status":"open","priority":1,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T17:55:43.498026-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T17:55:43.498026-06:00","dependencies":[{"issue_id":"Continuous-Claude-v3-dre.9","depends_on_id":"Continuous-Claude-v3-dre","type":"parent-child","created_at":"2026-01-13T17:55:43.507324-06:00","created_by":"Dale Carman"},{"issue_id":"Continuous-Claude-v3-dre.9","depends_on_id":"Continuous-Claude-v3-dre.8","type":"blocks","created_at":"2026-01-13T17:56:33.558903-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-ug8","title":"Unified Artifact System","description":"Consolidate checkpoint, handoff, and finalize workflows into a single unified artifact system using thoughts/shared/handoffs/ as canonical storage","status":"open","priority":2,"issue_type":"epic","owner":"dale.carman@gmail.com","created_at":"2026-01-13T18:34:43.787435-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T18:34:43.787435-06:00","labels":["feature","ralph"]}
{"id":"Continuous-Claude-v3-ug8.1","title":"US-001: Define unified schema (TypeScript + JSON Schema)","description":"Define the unified artifact schema with TypeScript interface and JSON schema validation.\n\n## Acceptance Criteria\n- [ ] TypeScript interface created with all required fields (schema_version, event_type, timestamp, session_id, content)\n- [ ] JSON Schema created with proper validation rules\n- [ ] Schema supports extensibility via metadata object\n- [ ] Schema documented in codebase\n- [ ] All tests pass","status":"open","priority":0,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T18:35:14.67345-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T18:35:14.67345-06:00","labels":["ralph","task"],"dependencies":[{"issue_id":"Continuous-Claude-v3-ug8.1","depends_on_id":"Continuous-Claude-v3-ug8","type":"parent-child","created_at":"2026-01-13T18:35:14.675972-06:00","created_by":"Dale Carman"}]}
{"id":"Continuous-Claude-v3-ug8.2","title":"US-002: Implement writeArtifact() writer function","description":"Create the unified writer function that handles all artifact types.\n\n## Acceptance Criteria\n- [ ] writeArtifact() function implemented with proper parameters\n- [ ] Function writes to thoughts/shared/handoffs/events/ with correct filename format\n- [ ] Function handles all three event types (checkpoint, handoff, finalize)\n- [ ] Proper error handling for file write failures\n- [ ] All tests pass","status":"open","priority":0,"issue_type":"task","owner":"dale.carman@gmail.com","created_at":"2026-01-13T18:35:15.667905-06:00","created_by":"Dale Carman","updated_at":"2026-01-13T18:35:15.667905-06:00","labels":["ralph","task"],"dependencies":[{"issue_id":"Continuous-Claude-v3-ug8.2","depends_on_id":"Continuous-Claude-v3-ug8","type":"parent-child","created_at":"2026-01-13T18:35:15.670392-06:00","created_by":"Dale Carman"}]}
